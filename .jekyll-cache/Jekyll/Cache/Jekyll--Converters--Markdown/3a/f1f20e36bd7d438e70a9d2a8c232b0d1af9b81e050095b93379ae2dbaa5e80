I"ê(<h3 class="lead my-5" id="en-otros-lenguajes-de-programaci√≥n-como-en-java-no-se-permite-accceder-ni-modificar-datos-de-una-clase-sin-antes-haber-creado-una-funci√≥n-especifica-para-ello-python-si-que-lo-permite-y-esto-puede-hacer-que-cambiemos-el-valor-de-un-atributo-sin-querer-y-se-produzcan-errores-en-nuestra-aplicaci√≥n">En otros lenguajes de programaci√≥n como en Java no se permite accceder ni modificar datos de una clase sin antes haber creado una funci√≥n especifica para ello. Python si que lo permite y esto puede hacer que cambiemos el valor de un atributo sin querer y se produzcan errores en nuestra aplicaci√≥n.</h3>

<p>Sintaxis para Get (Obtener el valor de un atributo): <code class="language-plaintext highlighter-rouge">objeto.par√°metro</code></p>

<p>Sintaxis para el Set (Establecer el valor de un atributo): <code class="language-plaintext highlighter-rouge">objeto.par√°metro = valor</code></p>

<div class="language-py highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">class</span> <span class="nc">Villain</span><span class="p">:</span>
    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">quote</span><span class="p">):</span>
        <span class="bp">self</span><span class="p">.</span><span class="n">name</span> <span class="o">=</span> <span class="n">name</span>
        <span class="bp">self</span><span class="p">.</span><span class="n">quote</span> <span class="o">=</span> <span class="n">quote</span>

    <span class="k">def</span> <span class="nf">villain_says</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="s">f'</span><span class="si">{</span><span class="bp">self</span><span class="p">.</span><span class="n">name</span><span class="si">}</span><span class="s"> dice </span><span class="si">{</span><span class="bp">self</span><span class="p">.</span><span class="n">quote</span><span class="si">}</span><span class="s">'</span>


<span class="n">joker</span> <span class="o">=</span> <span class="n">Villain</span><span class="p">(</span><span class="s">'Joker'</span><span class="p">,</span> <span class="s">'Siempre hay que tener un as en la manga'</span><span class="p">)</span>

<span class="k">print</span><span class="p">(</span><span class="n">joker</span><span class="p">.</span><span class="n">villain_says</span><span class="p">())</span>  <span class="c1"># Getter
</span>
<span class="c1"># Output: Joker dice Siempre hay que tener un as en la manga
</span>
<span class="n">joker</span><span class="p">.</span><span class="n">quote</span> <span class="o">=</span> <span class="s">'Aprend√≠ que todo tiene su tiempo y su lugar'</span>  <span class="c1"># Setter
</span>
<span class="k">print</span><span class="p">(</span><span class="n">joker</span><span class="p">.</span><span class="n">villain_says</span><span class="p">())</span>  <span class="c1"># Getter
</span>
<span class="c1"># Output: Joker dice Aprend√≠ que todo tiene su tiempo y su lugar
</span></code></pre></div></div>

<h2 id="python-properties-y-decorators">Python Properties y Decorators</h2>

<p>En el ejemplo anterior hemos visto como accededer, a√±adir y modificar atributos de clase con la sintaxis <code class="language-plaintext highlighter-rouge">.</code> para get y <code class="language-plaintext highlighter-rouge">=</code> para setter, pero esta no es la forma m√°s segura de hacerlo y podr√≠a llevarnos a cometer errores si el programa crece en complegidad.</p>

<p>Aqu√≠ es donde entran los conceptos de <strong>encapsulaci√≥n</strong> y <strong>decoradores</strong> de Python.</p>

<p>La <strong>encapsulaci√≥n</strong> de manera muy resumida es exponer solo los atributos de clase que el usuario necesita.</p>

<p>En Java se utiliza las palabras reservadas <code class="language-plaintext highlighter-rouge">public</code> o <code class="language-plaintext highlighter-rouge">private</code> para definir si un elemento puede ser utilizado o no fuera de la clase.</p>

<p>En Python no existen elementos p√∫blicos o privados, todos son p√∫blicos por defecto, pero la privacidad se pueden simular.</p>

<p>Es convenci√≥n en Python utilizar un gui√≥n bajo delante del nombre del atributo cuando creamos atributos protegidos.</p>

<p>El gui√≥n bajo no hace nada en si mismo, al interprete de Python le da igual que lleve gui√≥n bajo o no, es solo una convenci√≥n para dejar claro que estas creando un atributo privado, tanto para ti como para otros desarrolladores que puedan leer tu c√≥digo en el futuro.</p>

<p>Al utilizar <code class="language-plaintext highlighter-rouge">@property</code> no se permite cambiar el valor del atributo al vuelo desde fuera de la clase.</p>

<p>property() es una funci√≥n integrada en Python que permite interceptar la lectura, escritura y borrado de atributos, para invocar la funci√≥n <code class="language-plaintext highlighter-rouge">property()</code> utilizamos el decorador <code class="language-plaintext highlighter-rouge">@property</code>.</p>

<p>El decorador @property nos permite utilizar un m√©todo como atributo.</p>

<p>Si quieres modificar un atributo de un <code class="language-plaintext highlighter-rouge">@property</code> desde fuera de la clase hay que crear un <code class="language-plaintext highlighter-rouge">setter</code> para exponerlo.</p>

<p>¬øPor qu√© crear un @property si lo vamos a exponer igualmente con setter?</p>

<p>Porque con setter podemos crear ciertas normas.</p>

<p>En el siguiente ejemplo he creado dos <code class="language-plaintext highlighter-rouge">@property</code> para los dos atributos de la clase <code class="language-plaintext highlighter-rouge">Villain</code>. Sin embargo he establecido el atributo <code class="language-plaintext highlighter-rouge">name</code> como protegido y he expuesto el atributo <code class="language-plaintext highlighter-rouge">quote</code> con un <code class="language-plaintext highlighter-rouge">setter</code>, por lo que permite cambiar la frase del villano pero no el nombre.</p>

<div class="language-py highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">class</span> <span class="nc">Villain</span><span class="p">:</span>

    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">quote</span><span class="p">):</span>
        <span class="bp">self</span><span class="p">.</span><span class="n">_name</span> <span class="o">=</span> <span class="n">name</span>
        <span class="bp">self</span><span class="p">.</span><span class="n">_quote</span> <span class="o">=</span> <span class="n">quote</span>

    <span class="k">def</span> <span class="nf">villain_says</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="s">f'</span><span class="si">{</span><span class="bp">self</span><span class="p">.</span><span class="n">_name</span><span class="si">}</span><span class="s"> dice </span><span class="si">{</span><span class="bp">self</span><span class="p">.</span><span class="n">_quote</span><span class="si">}</span><span class="s">'</span>

    <span class="o">@</span><span class="nb">property</span>
    <span class="k">def</span> <span class="nf">name</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="p">.</span><span class="n">_name</span>

    <span class="o">@</span><span class="nb">property</span>
    <span class="k">def</span> <span class="nf">quote</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="p">.</span><span class="n">_quote</span>

    <span class="o">@</span><span class="n">quote</span><span class="p">.</span><span class="n">setter</span>
    <span class="k">def</span> <span class="nf">quote</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">quote</span><span class="p">):</span>
        <span class="bp">self</span><span class="p">.</span><span class="n">_quote</span> <span class="o">=</span> <span class="n">quote</span>


<span class="n">joker</span> <span class="o">=</span> <span class="n">Villain</span><span class="p">(</span><span class="s">'Joker'</span><span class="p">,</span> <span class="s">'Siempre hay que tener un as en la manga'</span><span class="p">)</span>

<span class="k">print</span><span class="p">(</span><span class="n">joker</span><span class="p">.</span><span class="n">villain_says</span><span class="p">())</span>  <span class="c1"># Getter
</span>
<span class="c1"># Output: Joker dice Siempre hay que tener un as en la manga
</span>
<span class="n">joker</span><span class="p">.</span><span class="n">quote</span> <span class="o">=</span> <span class="s">'¬°Esa fea cabeza tuya tiene cerebro!'</span>

<span class="k">print</span><span class="p">(</span><span class="n">joker</span><span class="p">.</span><span class="n">villain_says</span><span class="p">())</span>  <span class="c1"># Getter
</span>
<span class="c1"># Output: Joker dice ¬°Esa fea cabeza tuya tiene cerebro!
</span></code></pre></div></div>

<h2 id="p√∫blico-privado-y-protegido">P√∫blico, Privado y Protegido</h2>

<p><strong>¬øCu√°ndo hago un atributo p√∫blico?</strong></p>

<p>Si lo va a utilizar alguien fuera de la clase se hace p√∫blico.</p>

<p>Por defecto todos los m√©todos y variables son p√∫blicos en Python.</p>

<p><strong>¬øCu√°ndo hago un atributo protegido?</strong></p>

<p>Si lo va a utilizar alguien fuera de la clase, pero quieres establecer unas reglas de modificaci√≥n, utiliza un @property con un setter para protegerlo.</p>

<p>A los atributos protegidos se les pone un gui√≥n bajo delante.</p>

<p><strong>¬øCu√°ndo lo hago privado?</strong></p>

<p>Si el atributo de la clase no lo tiene que utilizar nadie fuera de la clase, se hace privado con @property.</p>

<p>A los atributos privados se les pone doble gui√≥n bajo delante.</p>
:ET